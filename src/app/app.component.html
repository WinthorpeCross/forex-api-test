<h1 class="hello" data-testid="main-title">forex-api-test app is running!</h1>

<ng-container *ngIf="!(_fetchService.isError | async); else errorTemplate">

  <div *ngFor="let item of _fetchService.getRates | async" data-testid="main-content">
      {{ item.code }} | {{ item.rate }}

    <!-- move to child component after initial setup and testing -->
  </div>

  <div *ngIf="(_fetchService.isLoading | async) as loading">
    <app-loading></app-loading>
  </div>

</ng-container>

<ng-template #errorTemplate>
  <div data-testid="error-content">
    <h1 data-testid="error-header">......ERROR.......</h1>
    <button data-testid="reload-button" (click)="reload()">Retry</button>
  </div>
</ng-template>